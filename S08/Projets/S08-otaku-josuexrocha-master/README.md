# O'taku, la plateforme des gros mangeurs de séries

O'clock a lancé il y a maintenant plus d'un an sa plateforme de séries originales à consommer depuis son canapé.

![Popcorn time](https://media.giphy.com/media/tyqcJoNjNv0Fq/giphy.gif)

## Hopopop

Pas si vite ! Vous n'êtes pas là pour en bénéficier mais plutôt pour rendre un précieux service à la team marketing :smiling_imp:.

Notre plateforme pas comme les autres a la particularité de récolter des informations stratégiques sur qui visionne quoi. 

On préfère le préciser tout de suite, c'est évidemment parce que nous sommes des visionnaires et que nous sommes pragmatiques : à quoi vous sert votre vie privée si les séries qu'on vous propose ne vous intéressent pas ? Attention, ça peut paraître évident mais nos concurrents n'oseraient jamais faire ça, bien entendu :angel:

![Peter](https://media.giphy.com/media/2ioUS6hZDARNMQXKo7/giphy.gif)
<br/>
<em style="color: #777">Compte là-dessus et bois de l'eau, comme on dit</em>

Bref... Après un an de collecte d'informations, on a de quoi faire : 61422 visionnages de pas moins de 6 séries (très) originales, dont une qui compte 22 saisons, disponibles en 7 langues :boom:

Mais pour en tirer quoi que ce soit d'utile, pas évident...

Bon, regardons ensemble ce qu'on peut faire :mag:

## Mise en place

Le fichier `data.sql` est fourni, il crée une unique table nommée `viewing` et insère toutes les données tout seul, comme un grand.

Créez une base de données et un utilisateur propriétaire en suivant la procédure habituelle, exécutez le script puis jetez un oeil à la structure de la table, ainsi qu'aux données. Pas toutes, hein, **limitez** à une centaine de lignes :wink:

## L'échantillonage ou comment redécouvrir ORDER BY

On fait ça ensemble en cockpit

## Le mode agrégé

Ça aussi, on le fait en cockpit

## Les limitations du mode agrégé

Vous l'aurez compris, je tease mais c'est tout, on le fait en cockpit

## Les fonctions d'agrégat

Bon, ben, vous avez compris, j'imagine...